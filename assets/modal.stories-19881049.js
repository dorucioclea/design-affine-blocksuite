import{j as l}from"./jsx-runtime-ffb262ed.js";import{r as t}from"./index-76fb7be0.js";import{B as v}from"./button-cb37de74.js";import{I as U}from"./icon-button-b7f93421.js";import{I as W}from"./input-b3b7fc00.js";import{$ as K,f as y,a as R,c as _,_ as d,g as b,h as Y,b as Z,i as z}from"./index-249b4978.js";import{$ as J,a as M}from"./index-46d22cb5.js";import{$ as Q,h as X,a as ee,b as te}from"./index-5b8a529f.js";import{a as oe,C as ne}from"./vanilla-extract-dynamic.esm-69045f62.js";import{c as I}from"./clsx-1229b3e0.js";import"./_commonjsHelpers-de833af9.js";import"./style.css-6788c100.js";import"./index-d3ea75b5.js";const q="Dialog",[F,et]=K(q),[ae,u]=F(q),re=e=>{const{__scopeDialog:a,children:r,open:c,defaultOpen:o,onOpenChange:n,modal:s=!0}=e,i=t.useRef(null),p=t.useRef(null),[f=!1,$]=J({prop:c,defaultProp:o,onChange:n});return t.createElement(ae,{scope:a,triggerRef:i,contentRef:p,contentId:y(),titleId:y(),descriptionId:y(),open:f,onOpenChange:$,onOpenToggle:t.useCallback(()=>$(C=>!C),[$]),modal:s},r)},ce="DialogTrigger",se=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(ce,r),n=R(a,o.triggerRef);return t.createElement(_.button,d({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":P(o.open)},c,{ref:n,onClick:b(e.onClick,o.onOpenToggle)}))}),k="DialogPortal",[le,B]=F(k,{forceMount:void 0}),ie=e=>{const{__scopeDialog:a,forceMount:r,children:c,container:o}=e,n=u(k,a);return t.createElement(le,{scope:a,forceMount:r},t.Children.map(c,s=>t.createElement(M,{present:r||n.open},t.createElement(Y,{asChild:!0,container:o},s))))},O="DialogOverlay",de=t.forwardRef((e,a)=>{const r=B(O,e.__scopeDialog),{forceMount:c=r.forceMount,...o}=e,n=u(O,e.__scopeDialog);return n.modal?t.createElement(M,{present:c||n.open},t.createElement(ue,d({},o,{ref:a}))):null}),ue=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(O,r);return t.createElement(Q,{as:Z,allowPinchZoom:!0,shards:[o.contentRef]},t.createElement(_.div,d({"data-state":P(o.open)},c,{ref:a,style:{pointerEvents:"auto",...c.style}})))}),h="DialogContent",pe=t.forwardRef((e,a)=>{const r=B(h,e.__scopeDialog),{forceMount:c=r.forceMount,...o}=e,n=u(h,e.__scopeDialog);return t.createElement(M,{present:c||n.open},n.modal?t.createElement(fe,d({},o,{ref:a})):t.createElement(me,d({},o,{ref:a})))}),fe=t.forwardRef((e,a)=>{const r=u(h,e.__scopeDialog),c=t.useRef(null),o=R(a,r.contentRef,c);return t.useEffect(()=>{const n=c.current;if(n)return X(n)},[]),t.createElement(S,d({},e,{ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:b(e.onCloseAutoFocus,n=>{var s;n.preventDefault(),(s=r.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:b(e.onPointerDownOutside,n=>{const s=n.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&n.preventDefault()}),onFocusOutside:b(e.onFocusOutside,n=>n.preventDefault())}))}),me=t.forwardRef((e,a)=>{const r=u(h,e.__scopeDialog),c=t.useRef(!1),o=t.useRef(!1);return t.createElement(S,d({},e,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,n),!n.defaultPrevented){var i;c.current||(i=r.triggerRef.current)===null||i===void 0||i.focus(),n.preventDefault()}c.current=!1,o.current=!1},onInteractOutside:n=>{var s,i;(s=e.onInteractOutside)===null||s===void 0||s.call(e,n),n.defaultPrevented||(c.current=!0,n.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const p=n.target;((i=r.triggerRef.current)===null||i===void 0?void 0:i.contains(p))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&o.current&&n.preventDefault()}}))}),S=t.forwardRef((e,a)=>{const{__scopeDialog:r,trapFocus:c,onOpenAutoFocus:o,onCloseAutoFocus:n,...s}=e,i=u(h,r),p=t.useRef(null),f=R(a,p);return ee(),t.createElement(t.Fragment,null,t.createElement(te,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:o,onUnmountAutoFocus:n},t.createElement(z,d({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":P(i.open)},s,{ref:f,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),$e="DialogTitle",ge=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u($e,r);return t.createElement(_.h2,d({id:o.titleId},c,{ref:a}))}),be="DialogDescription",he=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(be,r);return t.createElement(_.p,d({id:o.descriptionId},c,{ref:a}))}),_e="DialogClose",xe=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(_e,r);return t.createElement(_.button,d({type:"button"},c,{ref:a,onClick:b(e.onClick,()=>o.onOpenChange(!1))}))});function P(e){return e?"open":"closed"}const ve=re,Ce=ie,ye=de,De=pe,Oe=ge,Ee=he,Re=xe;var Me="_3lpfcy5",Pe="_3lpfcy9",Ie="var(--_3lpfcy1)",we="var(--_3lpfcy2)",Ve="_3lpfcy4",Ne="_3lpfcy7",je="_3lpfcy8",Te="_3lpfcy6",Ae="_3lpfcy3",qe="var(--_3lpfcy0)";const D=(e="",a="")=>e?typeof e=="number"?`${e}px`:e:a,m=t.forwardRef(({width:e,height:a,minHeight:r,title:c,description:o,withoutCloseButton:n=!1,portalOptions:s,contentOptions:{style:i,className:p,...f}={},overlayOptions:{className:$,...C}={},children:H,...L},G)=>l.jsx(ve,{...L,children:l.jsxs(Ce,{...s,children:[l.jsx(ye,{className:I(Ae,$),...C}),l.jsxs(De,{className:I(Ve,p),style:{...oe({[qe]:D(e,"50vw"),[Ie]:D(a,"unset"),[we]:D(r,"26px")}),...i},...f,ref:G,children:[n?null:l.jsx(Re,{asChild:!0,children:l.jsx(U,{className:Me,"aria-label":"Close",type:"plain",children:l.jsx(ne,{})})}),c?l.jsx(Oe,{className:Te,children:c}):null,o?l.jsx(Ee,{className:Ne,children:o}):null,H]})]})}));m.displayName="Modal";try{m.displayName="Modal",m.__docgenInfo={description:"",displayName:"Modal",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"Height<string | number>"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"MinHeight<string | number>"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},withoutCloseButton:{defaultValue:{value:"false"},description:"",name:"withoutCloseButton",required:!1,type:{name:"boolean"}},portalOptions:{defaultValue:null,description:"",name:"portalOptions",required:!1,type:{name:"DialogPortalProps"}},contentOptions:{defaultValue:null,description:"",name:"contentOptions",required:!1,type:{name:"DialogContentProps"}},overlayOptions:{defaultValue:null,description:"",name:"overlayOptions",required:!1,type:{name:"DialogOverlayProps"}}}}}catch{}const E=({children:e,confirmButtonOptions:a,cancelText:r="Cancel",onConfirm:c,...o})=>l.jsxs(m,{...o,children:[l.jsx("div",{className:Pe,children:e}),l.jsxs("div",{className:je,children:[l.jsx(se,{asChild:!0,children:l.jsx(v,{children:r})}),l.jsx(v,{onClick:c,...a})]})]});try{E.displayName="ConfirmModal",E.__docgenInfo={description:"",displayName:"ConfirmModal",props:{confirmButtonOptions:{defaultValue:null,description:"",name:"confirmButtonOptions",required:!1,type:{name:"ButtonProps"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!1,type:{name:"(() => void)"}},cancelText:{defaultValue:{value:"Cancel"},description:"",name:"cancelText",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"Height<string | number>"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"MinHeight<string | number>"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},withoutCloseButton:{defaultValue:null,description:"",name:"withoutCloseButton",required:!1,type:{name:"boolean"}},portalOptions:{defaultValue:null,description:"",name:"portalOptions",required:!1,type:{name:"DialogPortalProps"}},contentOptions:{defaultValue:null,description:"",name:"contentOptions",required:!1,type:{name:"DialogContentProps"}},overlayOptions:{defaultValue:null,description:"",name:"overlayOptions",required:!1,type:{name:"DialogOverlayProps"}}}}}catch{}const tt={title:"UI/Modal",component:m,argTypes:{onClick:()=>console.log("Click button")}},Fe=e=>{const[a,r]=t.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(v,{onClick:()=>r(!0),children:"Open Modal"}),l.jsx(m,{open:a,onOpenChange:r,...e})]})},g=Fe.bind(void 0);g.args={title:"Modal Title",description:"If the day is done, if birds sing no more, if the wind has flagged tired, then draw the veil of darkness thick upon me, even as thou hast wrapt the earth with the coverlet of sleep and tenderly closed the petals of the drooping lotus at dusk."};const ke=()=>new Promise(e=>setTimeout(e,1e3)),Be=()=>{const[e,a]=t.useState(!1),[r,c]=t.useState(!1),[o,n]=t.useState("default"),s=t.useCallback(async()=>{c(!0),await ke(),n(o!=="error"?"error":"success"),c(!1)},[o]);return l.jsxs(l.Fragment,{children:[l.jsx(v,{onClick:()=>a(!0),children:"Open Confirm Modal"}),l.jsx(E,{open:e,onOpenChange:a,onConfirm:s,title:"Modal Title",description:"Modal description",confirmButtonOptions:{loading:r,type:"primary",children:"Confirm"},children:l.jsx(W,{placeholder:"input someting",status:o})})]})},x=Be.bind(void 0);var w,V,N;g.parameters={...g.parameters,docs:{...(w=g.parameters)==null?void 0:w.docs,source:{originalSource:"Template.bind(undefined)",...(N=(V=g.parameters)==null?void 0:V.docs)==null?void 0:N.source}}};var j,T,A;x.parameters={...x.parameters,docs:{...(j=x.parameters)==null?void 0:j.docs,source:{originalSource:"ConfirmModalTemplate.bind(undefined)",...(A=(T=x.parameters)==null?void 0:T.docs)==null?void 0:A.source}}};const ot=["Default","Confirm"];export{x as Confirm,g as Default,ot as __namedExportsOrder,tt as default};
//# sourceMappingURL=modal.stories-19881049.js.map
