import{j as l}from"./jsx-runtime-ffb262ed.js";import{r as t}from"./index-76fb7be0.js";import{B as v}from"./button-13f3ee9c.js";import{I as W}from"./icon-button-1fb8b8e2.js";import{I as K}from"./input-8e3158e2.js";import{$ as Y,f as y,a as R,c as _,_ as d,g as b,h as Z,b as z,i as J}from"./index-249b4978.js";import{$ as Q,a as M}from"./index-46d22cb5.js";import{$ as X,h as ee,a as te,b as oe}from"./Combination-f8aa56ae.js";import{C as ne}from"./index-8adf41ac.js";import{a as ae}from"./vanilla-extract-dynamic.esm-c334c93f.js";import{c as I}from"./clsx-1229b3e0.js";import"./_commonjsHelpers-de833af9.js";import"./style.css-8d70dfc7.js";import"./index-d3ea75b5.js";const A="Dialog",[F,ot]=Y(A),[re,u]=F(A),ce=e=>{const{__scopeDialog:a,children:r,open:c,defaultOpen:o,onOpenChange:n,modal:s=!0}=e,i=t.useRef(null),p=t.useRef(null),[f=!1,$]=Q({prop:c,defaultProp:o,onChange:n});return t.createElement(re,{scope:a,triggerRef:i,contentRef:p,contentId:y(),titleId:y(),descriptionId:y(),open:f,onOpenChange:$,onOpenToggle:t.useCallback(()=>$(C=>!C),[$]),modal:s},r)},se="DialogTrigger",le=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(se,r),n=R(a,o.triggerRef);return t.createElement(_.button,d({type:"button","aria-haspopup":"dialog","aria-expanded":o.open,"aria-controls":o.contentId,"data-state":P(o.open)},c,{ref:n,onClick:b(e.onClick,o.onOpenToggle)}))}),B="DialogPortal",[ie,k]=F(B,{forceMount:void 0}),de=e=>{const{__scopeDialog:a,forceMount:r,children:c,container:o}=e,n=u(B,a);return t.createElement(ie,{scope:a,forceMount:r},t.Children.map(c,s=>t.createElement(M,{present:r||n.open},t.createElement(Z,{asChild:!0,container:o},s))))},D="DialogOverlay",ue=t.forwardRef((e,a)=>{const r=k(D,e.__scopeDialog),{forceMount:c=r.forceMount,...o}=e,n=u(D,e.__scopeDialog);return n.modal?t.createElement(M,{present:c||n.open},t.createElement(pe,d({},o,{ref:a}))):null}),pe=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(D,r);return t.createElement(X,{as:z,allowPinchZoom:!0,shards:[o.contentRef]},t.createElement(_.div,d({"data-state":P(o.open)},c,{ref:a,style:{pointerEvents:"auto",...c.style}})))}),h="DialogContent",fe=t.forwardRef((e,a)=>{const r=k(h,e.__scopeDialog),{forceMount:c=r.forceMount,...o}=e,n=u(h,e.__scopeDialog);return t.createElement(M,{present:c||n.open},n.modal?t.createElement(me,d({},o,{ref:a})):t.createElement($e,d({},o,{ref:a})))}),me=t.forwardRef((e,a)=>{const r=u(h,e.__scopeDialog),c=t.useRef(null),o=R(a,r.contentRef,c);return t.useEffect(()=>{const n=c.current;if(n)return ee(n)},[]),t.createElement(S,d({},e,{ref:o,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:b(e.onCloseAutoFocus,n=>{var s;n.preventDefault(),(s=r.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:b(e.onPointerDownOutside,n=>{const s=n.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&n.preventDefault()}),onFocusOutside:b(e.onFocusOutside,n=>n.preventDefault())}))}),$e=t.forwardRef((e,a)=>{const r=u(h,e.__scopeDialog),c=t.useRef(!1),o=t.useRef(!1);return t.createElement(S,d({},e,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:n=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,n),!n.defaultPrevented){var i;c.current||(i=r.triggerRef.current)===null||i===void 0||i.focus(),n.preventDefault()}c.current=!1,o.current=!1},onInteractOutside:n=>{var s,i;(s=e.onInteractOutside)===null||s===void 0||s.call(e,n),n.defaultPrevented||(c.current=!0,n.detail.originalEvent.type==="pointerdown"&&(o.current=!0));const p=n.target;((i=r.triggerRef.current)===null||i===void 0?void 0:i.contains(p))&&n.preventDefault(),n.detail.originalEvent.type==="focusin"&&o.current&&n.preventDefault()}}))}),S=t.forwardRef((e,a)=>{const{__scopeDialog:r,trapFocus:c,onOpenAutoFocus:o,onCloseAutoFocus:n,...s}=e,i=u(h,r),p=t.useRef(null),f=R(a,p);return te(),t.createElement(t.Fragment,null,t.createElement(oe,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:o,onUnmountAutoFocus:n},t.createElement(J,d({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":P(i.open)},s,{ref:f,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),ge="DialogTitle",be=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(ge,r);return t.createElement(_.h2,d({id:o.titleId},c,{ref:a}))}),he="DialogDescription",_e=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(he,r);return t.createElement(_.p,d({id:o.descriptionId},c,{ref:a}))}),xe="DialogClose",ve=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,o=u(xe,r);return t.createElement(_.button,d({type:"button"},c,{ref:a,onClick:b(e.onClick,()=>o.onOpenChange(!1))}))});function P(e){return e?"open":"closed"}const Ce=ce,ye=de,Oe=ue,De=fe,Ee=be,Re=_e,Me=ve;var Pe="_3lpfcy5",Ie="_3lpfcy9",we="var(--_3lpfcy1)",Ve="var(--_3lpfcy2)",Ne="_3lpfcy4",je="_3lpfcy7",Te="_3lpfcy8",qe="_3lpfcy6",Ae="_3lpfcy3",Fe="var(--_3lpfcy0)";const O=(e="",a="")=>e?typeof e=="number"?`${e}px`:e:a,m=t.forwardRef(({width:e,height:a,minHeight:r,title:c,description:o,withoutCloseButton:n=!1,portalOptions:s,contentOptions:{style:i,className:p,...f}={},overlayOptions:{className:$,...C}={},closeButtonOptions:H={},children:L,...G},U)=>l.jsx(Ce,{...G,children:l.jsxs(ye,{...s,children:[l.jsx(Oe,{className:I(Ae,$),...C}),l.jsxs(De,{className:I(Ne,p),style:{...ae({[Fe]:O(e,"50vw"),[we]:O(a,"unset"),[Ve]:O(r,"26px")}),...i},...f,ref:U,children:[n?null:l.jsx(Me,{asChild:!0,children:l.jsx(W,{className:Pe,"aria-label":"Close",type:"plain",...H,children:l.jsx(ne,{})})}),c?l.jsx(Ee,{className:qe,children:c}):null,o?l.jsx(Re,{className:je,children:o}):null,L]})]})}));m.displayName="Modal";try{m.displayName="Modal",m.__docgenInfo={description:"",displayName:"Modal",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"Height<string | number>"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"MinHeight<string | number>"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},withoutCloseButton:{defaultValue:{value:"false"},description:"",name:"withoutCloseButton",required:!1,type:{name:"boolean"}},portalOptions:{defaultValue:null,description:"",name:"portalOptions",required:!1,type:{name:"DialogPortalProps"}},contentOptions:{defaultValue:null,description:"",name:"contentOptions",required:!1,type:{name:"DialogContentProps"}},overlayOptions:{defaultValue:null,description:"",name:"overlayOptions",required:!1,type:{name:"DialogOverlayProps"}},closeButtonOptions:{defaultValue:{value:"{}"},description:"",name:"closeButtonOptions",required:!1,type:{name:"IconButtonProps"}}}}}catch{}const E=({children:e,confirmButtonOptions:a,cancelText:r="Cancel",onConfirm:c,...o})=>l.jsxs(m,{...o,children:[l.jsx("div",{className:Ie,children:e}),l.jsxs("div",{className:Te,children:[l.jsx(le,{asChild:!0,children:l.jsx(v,{children:r})}),l.jsx(v,{onClick:c,...a})]})]});try{E.displayName="ConfirmModal",E.__docgenInfo={description:"",displayName:"ConfirmModal",props:{confirmButtonOptions:{defaultValue:null,description:"",name:"confirmButtonOptions",required:!1,type:{name:"ButtonProps"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!1,type:{name:"(() => void)"}},cancelText:{defaultValue:{value:"Cancel"},description:"",name:"cancelText",required:!1,type:{name:"string"}},width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"Height<string | number>"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"MinHeight<string | number>"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},withoutCloseButton:{defaultValue:null,description:"",name:"withoutCloseButton",required:!1,type:{name:"boolean"}},portalOptions:{defaultValue:null,description:"",name:"portalOptions",required:!1,type:{name:"DialogPortalProps"}},contentOptions:{defaultValue:null,description:"",name:"contentOptions",required:!1,type:{name:"DialogContentProps"}},overlayOptions:{defaultValue:null,description:"",name:"overlayOptions",required:!1,type:{name:"DialogOverlayProps"}},closeButtonOptions:{defaultValue:null,description:"",name:"closeButtonOptions",required:!1,type:{name:"IconButtonProps"}}}}}catch{}const nt={title:"UI/Modal",component:m,argTypes:{onClick:()=>console.log("Click button")}},Be=e=>{const[a,r]=t.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(v,{onClick:()=>r(!0),children:"Open Modal"}),l.jsx(m,{open:a,onOpenChange:r,...e})]})},g=Be.bind(void 0);g.args={title:"Modal Title",description:"If the day is done, if birds sing no more, if the wind has flagged tired, then draw the veil of darkness thick upon me, even as thou hast wrapt the earth with the coverlet of sleep and tenderly closed the petals of the drooping lotus at dusk."};const ke=()=>new Promise(e=>setTimeout(e,1e3)),Se=()=>{const[e,a]=t.useState(!1),[r,c]=t.useState(!1),[o,n]=t.useState("default"),s=t.useCallback(async()=>{c(!0),await ke(),n(o!=="error"?"error":"success"),c(!1)},[o]);return l.jsxs(l.Fragment,{children:[l.jsx(v,{onClick:()=>a(!0),children:"Open Confirm Modal"}),l.jsx(E,{open:e,onOpenChange:a,onConfirm:s,title:"Modal Title",description:"Modal description",confirmButtonOptions:{loading:r,type:"primary",children:"Confirm"},children:l.jsx(K,{placeholder:"input someting",status:o})})]})},x=Se.bind(void 0);var w,V,N;g.parameters={...g.parameters,docs:{...(w=g.parameters)==null?void 0:w.docs,source:{originalSource:"Template.bind(undefined)",...(N=(V=g.parameters)==null?void 0:V.docs)==null?void 0:N.source}}};var j,T,q;x.parameters={...x.parameters,docs:{...(j=x.parameters)==null?void 0:j.docs,source:{originalSource:"ConfirmModalTemplate.bind(undefined)",...(q=(T=x.parameters)==null?void 0:T.docs)==null?void 0:q.source}}};const at=["Default","Confirm"];export{x as Confirm,g as Default,at as __namedExportsOrder,nt as default};
//# sourceMappingURL=modal.stories-fd0e6136.js.map
