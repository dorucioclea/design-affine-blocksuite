import{j as l}from"./jsx-runtime-ffb262ed.js";import{r as t}from"./index-76fb7be0.js";import{B as x}from"./button-d5a96bf5.js";import{I as U}from"./icon-button-0733e2c1.js";import{I as K}from"./input-8e3158e2.js";import{$ as Y,f as y,a as M,c as _,_ as d,g as b,h as Z,b as z,i as J}from"./index-249b4978.js";import{$ as Q,a as P}from"./index-46d22cb5.js";import{$ as X,h as ee,a as te,b as oe}from"./Combination-f8aa56ae.js";import{c as D}from"./clsx-1229b3e0.js";import{C as ne}from"./index-8adf41ac.js";import{a as ae}from"./vanilla-extract-dynamic.esm-c334c93f.js";import"./_commonjsHelpers-de833af9.js";import"./style.css-42ffa282.js";import"./index-d3ea75b5.js";const A="Dialog",[F,nt]=Y(A),[re,u]=F(A),ce=e=>{const{__scopeDialog:a,children:r,open:c,defaultOpen:n,onOpenChange:o,modal:s=!0}=e,i=t.useRef(null),p=t.useRef(null),[f=!1,$]=Q({prop:c,defaultProp:n,onChange:o});return t.createElement(re,{scope:a,triggerRef:i,contentRef:p,contentId:y(),titleId:y(),descriptionId:y(),open:f,onOpenChange:$,onOpenToggle:t.useCallback(()=>$(C=>!C),[$]),modal:s},r)},se="DialogTrigger",le=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,n=u(se,r),o=M(a,n.triggerRef);return t.createElement(_.button,d({type:"button","aria-haspopup":"dialog","aria-expanded":n.open,"aria-controls":n.contentId,"data-state":I(n.open)},c,{ref:o,onClick:b(e.onClick,n.onOpenToggle)}))}),B="DialogPortal",[ie,k]=F(B,{forceMount:void 0}),de=e=>{const{__scopeDialog:a,forceMount:r,children:c,container:n}=e,o=u(B,a);return t.createElement(ie,{scope:a,forceMount:r},t.Children.map(c,s=>t.createElement(P,{present:r||o.open},t.createElement(Z,{asChild:!0,container:n},s))))},E="DialogOverlay",ue=t.forwardRef((e,a)=>{const r=k(E,e.__scopeDialog),{forceMount:c=r.forceMount,...n}=e,o=u(E,e.__scopeDialog);return o.modal?t.createElement(P,{present:c||o.open},t.createElement(pe,d({},n,{ref:a}))):null}),pe=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,n=u(E,r);return t.createElement(X,{as:z,allowPinchZoom:!0,shards:[n.contentRef]},t.createElement(_.div,d({"data-state":I(n.open)},c,{ref:a,style:{pointerEvents:"auto",...c.style}})))}),h="DialogContent",fe=t.forwardRef((e,a)=>{const r=k(h,e.__scopeDialog),{forceMount:c=r.forceMount,...n}=e,o=u(h,e.__scopeDialog);return t.createElement(P,{present:c||o.open},o.modal?t.createElement(me,d({},n,{ref:a})):t.createElement($e,d({},n,{ref:a})))}),me=t.forwardRef((e,a)=>{const r=u(h,e.__scopeDialog),c=t.useRef(null),n=M(a,r.contentRef,c);return t.useEffect(()=>{const o=c.current;if(o)return ee(o)},[]),t.createElement(S,d({},e,{ref:n,trapFocus:r.open,disableOutsidePointerEvents:!0,onCloseAutoFocus:b(e.onCloseAutoFocus,o=>{var s;o.preventDefault(),(s=r.triggerRef.current)===null||s===void 0||s.focus()}),onPointerDownOutside:b(e.onPointerDownOutside,o=>{const s=o.detail.originalEvent,i=s.button===0&&s.ctrlKey===!0;(s.button===2||i)&&o.preventDefault()}),onFocusOutside:b(e.onFocusOutside,o=>o.preventDefault())}))}),$e=t.forwardRef((e,a)=>{const r=u(h,e.__scopeDialog),c=t.useRef(!1),n=t.useRef(!1);return t.createElement(S,d({},e,{ref:a,trapFocus:!1,disableOutsidePointerEvents:!1,onCloseAutoFocus:o=>{var s;if((s=e.onCloseAutoFocus)===null||s===void 0||s.call(e,o),!o.defaultPrevented){var i;c.current||(i=r.triggerRef.current)===null||i===void 0||i.focus(),o.preventDefault()}c.current=!1,n.current=!1},onInteractOutside:o=>{var s,i;(s=e.onInteractOutside)===null||s===void 0||s.call(e,o),o.defaultPrevented||(c.current=!0,o.detail.originalEvent.type==="pointerdown"&&(n.current=!0));const p=o.target;((i=r.triggerRef.current)===null||i===void 0?void 0:i.contains(p))&&o.preventDefault(),o.detail.originalEvent.type==="focusin"&&n.current&&o.preventDefault()}}))}),S=t.forwardRef((e,a)=>{const{__scopeDialog:r,trapFocus:c,onOpenAutoFocus:n,onCloseAutoFocus:o,...s}=e,i=u(h,r),p=t.useRef(null),f=M(a,p);return te(),t.createElement(t.Fragment,null,t.createElement(oe,{asChild:!0,loop:!0,trapped:c,onMountAutoFocus:n,onUnmountAutoFocus:o},t.createElement(J,d({role:"dialog",id:i.contentId,"aria-describedby":i.descriptionId,"aria-labelledby":i.titleId,"data-state":I(i.open)},s,{ref:f,onDismiss:()=>i.onOpenChange(!1)}))),!1)}),ge="DialogTitle",be=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,n=u(ge,r);return t.createElement(_.h2,d({id:n.titleId},c,{ref:a}))}),he="DialogDescription",_e=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,n=u(he,r);return t.createElement(_.p,d({id:n.descriptionId},c,{ref:a}))}),ve="DialogClose",xe=t.forwardRef((e,a)=>{const{__scopeDialog:r,...c}=e,n=u(ve,r);return t.createElement(_.button,d({type:"button"},c,{ref:a,onClick:b(e.onClick,()=>n.onOpenChange(!1))}))});function I(e){return e?"open":"closed"}const Ce=ce,ye=de,Oe=ue,De=fe,Ee=be,Re=_e,Me=xe;var Pe="_3lpfcy5",Ie="_3lpfcya",we="_3lpfcy9",Ve="var(--_3lpfcy1)",Ne="var(--_3lpfcy2)",je="_3lpfcy4",qe="_3lpfcy7",Te="_3lpfcy8",Ae="_3lpfcy6",Fe="_3lpfcy3",Be="var(--_3lpfcy0)";const O=(e="",a="")=>e?typeof e=="number"?`${e}px`:e:a,m=t.forwardRef(({width:e,height:a,minHeight:r=194,title:c,description:n,withoutCloseButton:o=!1,portalOptions:s,contentOptions:{style:i,className:p,...f}={},overlayOptions:{className:$,...C}={},closeButtonOptions:H={},children:L,...G},W)=>l.jsx(Ce,{...G,children:l.jsxs(ye,{...s,children:[l.jsx(Oe,{className:D(Fe,$),...C}),l.jsxs(De,{className:D(je,p),style:{...ae({[Be]:O(e,"50vw"),[Ve]:O(a,"unset"),[Ne]:O(r,"26px")}),...i},...f,ref:W,children:[o?null:l.jsx(Me,{asChild:!0,children:l.jsx(U,{className:Pe,"aria-label":"Close",type:"plain",...H,children:l.jsx(ne,{})})}),c?l.jsx(Ee,{className:Ae,children:c}):null,n?l.jsx(Re,{className:qe,children:n}):null,L]})]})}));m.displayName="Modal";try{m.displayName="Modal",m.__docgenInfo={description:"",displayName:"Modal",props:{width:{defaultValue:null,description:"",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"Height<string | number>"}},minHeight:{defaultValue:{value:"194"},description:"",name:"minHeight",required:!1,type:{name:"MinHeight<string | number>"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},withoutCloseButton:{defaultValue:{value:"false"},description:"",name:"withoutCloseButton",required:!1,type:{name:"boolean"}},portalOptions:{defaultValue:null,description:"",name:"portalOptions",required:!1,type:{name:"DialogPortalProps"}},contentOptions:{defaultValue:null,description:"",name:"contentOptions",required:!1,type:{name:"DialogContentProps"}},overlayOptions:{defaultValue:null,description:"",name:"overlayOptions",required:!1,type:{name:"DialogOverlayProps"}},closeButtonOptions:{defaultValue:{value:"{}"},description:"",name:"closeButtonOptions",required:!1,type:{name:"IconButtonProps"}}}}}catch{}const R=({children:e,confirmButtonOptions:a,cancelText:r="Cancel",cancelButtonOptions:c,onConfirm:n,width:o=480,...s})=>l.jsxs(m,{contentOptions:{className:Ie},width:o,...s,children:[e?l.jsx("div",{className:we,children:e}):null,l.jsxs("div",{className:D(Te,{modalFooterWithChildren:!!e}),children:[l.jsx(le,{asChild:!0,children:l.jsx(x,{...c,children:r})}),l.jsx(x,{onClick:n,...a})]})]});try{R.displayName="ConfirmModal",R.__docgenInfo={description:"",displayName:"ConfirmModal",props:{confirmButtonOptions:{defaultValue:null,description:"",name:"confirmButtonOptions",required:!1,type:{name:"ButtonProps"}},onConfirm:{defaultValue:null,description:"",name:"onConfirm",required:!1,type:{name:"(() => void)"}},cancelText:{defaultValue:{value:"Cancel"},description:"",name:"cancelText",required:!1,type:{name:"string"}},cancelButtonOptions:{defaultValue:null,description:"",name:"cancelButtonOptions",required:!1,type:{name:"ButtonProps"}},width:{defaultValue:{value:"480"},description:"",name:"width",required:!1,type:{name:"Width<string | number>"}},height:{defaultValue:null,description:"",name:"height",required:!1,type:{name:"Height<string | number>"}},minHeight:{defaultValue:null,description:"",name:"minHeight",required:!1,type:{name:"MinHeight<string | number>"}},title:{defaultValue:null,description:"",name:"title",required:!1,type:{name:"string"}},description:{defaultValue:null,description:"",name:"description",required:!1,type:{name:"string"}},withoutCloseButton:{defaultValue:null,description:"",name:"withoutCloseButton",required:!1,type:{name:"boolean"}},portalOptions:{defaultValue:null,description:"",name:"portalOptions",required:!1,type:{name:"DialogPortalProps"}},contentOptions:{defaultValue:null,description:"",name:"contentOptions",required:!1,type:{name:"DialogContentProps"}},overlayOptions:{defaultValue:null,description:"",name:"overlayOptions",required:!1,type:{name:"DialogOverlayProps"}},closeButtonOptions:{defaultValue:null,description:"",name:"closeButtonOptions",required:!1,type:{name:"IconButtonProps"}}}}}catch{}const at={title:"UI/Modal",component:m,argTypes:{onClick:()=>console.log("Click button")}},ke=e=>{const[a,r]=t.useState(!1);return l.jsxs(l.Fragment,{children:[l.jsx(x,{onClick:()=>r(!0),children:"Open Modal"}),l.jsx(m,{open:a,onOpenChange:r,...e})]})},g=ke.bind(void 0);g.args={title:"Modal Title",description:"If the day is done, if birds sing no more, if the wind has flagged tired, then draw the veil of darkness thick upon me, even as thou hast wrapt the earth with the coverlet of sleep and tenderly closed the petals of the drooping lotus at dusk."};const Se=()=>new Promise(e=>setTimeout(e,1e3)),He=()=>{const[e,a]=t.useState(!1),[r,c]=t.useState(!1),[n,o]=t.useState("default"),s=t.useCallback(async()=>{c(!0),await Se(),o(n!=="error"?"error":"success"),c(!1)},[n]);return l.jsxs(l.Fragment,{children:[l.jsx(x,{onClick:()=>a(!0),children:"Open Confirm Modal"}),l.jsx(R,{open:e,onOpenChange:a,onConfirm:s,title:"Modal Title",description:"Modal description",confirmButtonOptions:{loading:r,type:"primary",children:"Confirm"},children:l.jsx(K,{placeholder:"input someting",status:n})})]})},v=He.bind(void 0);var w,V,N;g.parameters={...g.parameters,docs:{...(w=g.parameters)==null?void 0:w.docs,source:{originalSource:"Template.bind(undefined)",...(N=(V=g.parameters)==null?void 0:V.docs)==null?void 0:N.source}}};var j,q,T;v.parameters={...v.parameters,docs:{...(j=v.parameters)==null?void 0:j.docs,source:{originalSource:"ConfirmModalTemplate.bind(undefined)",...(T=(q=v.parameters)==null?void 0:q.docs)==null?void 0:T.source}}};const rt=["Default","Confirm"];export{v as Confirm,g as Default,rt as __namedExportsOrder,at as default};
//# sourceMappingURL=modal.stories-9c1f66cb.js.map
