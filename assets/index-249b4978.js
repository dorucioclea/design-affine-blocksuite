import{r as s,a as j}from"./index-76fb7be0.js";import{r as U,R as V}from"./index-d3ea75b5.js";function h(){return h=Object.assign?Object.assign.bind():function(e){for(var t=1;t<arguments.length;t++){var n=arguments[t];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},h.apply(this,arguments)}function g(e,t,{checkForDefaultPrevented:n=!0}={}){return function(r){if(e==null||e(r),n===!1||!r.defaultPrevented)return t==null?void 0:t(r)}}function M(e,t){typeof e=="function"?e(t):e!=null&&(e.current=t)}function _(...e){return t=>e.forEach(n=>M(n,t))}function z(...e){return s.useCallback(_(...e),e)}function ae(e,t=[]){let n=[];function o(i,a){const c=s.createContext(a),l=n.length;n=[...n,a];function b(u){const{scope:$,children:v,...p}=u,y=($==null?void 0:$[e][l])||c,E=s.useMemo(()=>p,Object.values(p));return s.createElement(y.Provider,{value:E},v)}function f(u,$){const v=($==null?void 0:$[e][l])||c,p=s.useContext(v);if(p)return p;if(a!==void 0)return a;throw new Error(`\`${u}\` must be used within \`${i}\``)}return b.displayName=i+"Provider",[b,f]}const r=()=>{const i=n.map(a=>s.createContext(a));return function(c){const l=(c==null?void 0:c[e])||i;return s.useMemo(()=>({[`__scope${e}`]:{...c,[e]:l}}),[c,l])}};return r.scopeName=e,[o,K(r,...t)]}function K(...e){const t=e[0];if(e.length===1)return t;const n=()=>{const o=e.map(r=>({useScope:r(),scopeName:r.scopeName}));return function(i){const a=o.reduce((c,{useScope:l,scopeName:b})=>{const u=l(i)[`__scope${b}`];return{...c,...u}},{});return s.useMemo(()=>({[`__scope${t.scopeName}`]:a}),[a])}};return n.scopeName=t.scopeName,n}const F=s.forwardRef((e,t)=>{const{children:n,...o}=e,r=s.Children.toArray(n),i=r.find(X);if(i){const a=i.props.children,c=r.map(l=>l===i?s.Children.count(a)>1?s.Children.only(null):s.isValidElement(a)?a.props.children:null:l);return s.createElement(O,h({},o,{ref:t}),s.isValidElement(a)?s.cloneElement(a,void 0,c):null)}return s.createElement(O,h({},o,{ref:t}),n)});F.displayName="Slot";const O=s.forwardRef((e,t)=>{const{children:n,...o}=e;return s.isValidElement(n)?s.cloneElement(n,{...Z(o,n.props),ref:t?_(t,n.ref):n.ref}):s.Children.count(n)>1?s.Children.only(null):null});O.displayName="SlotClone";const H=({children:e})=>s.createElement(s.Fragment,null,e);function X(e){return s.isValidElement(e)&&e.type===H}function Z(e,t){const n={...t};for(const o in t){const r=e[o],i=t[o];/^on[A-Z]/.test(o)?r&&i?n[o]=(...c)=>{i(...c),r(...c)}:r&&(n[o]=r):o==="style"?n[o]={...r,...i}:o==="className"&&(n[o]=[r,i].filter(Boolean).join(" "))}return{...e,...n}}const q=["a","button","div","form","h2","h3","img","input","label","li","nav","ol","p","span","svg","ul"],N=q.reduce((e,t)=>{const n=s.forwardRef((o,r)=>{const{asChild:i,...a}=o,c=i?F:t;return s.useEffect(()=>{window[Symbol.for("radix-ui")]=!0},[]),s.createElement(c,h({},a,{ref:r}))});return n.displayName=`Primitive.${t}`,{...e,[t]:n}},{});function G(e,t){e&&U.flushSync(()=>e.dispatchEvent(t))}function C(e){const t=s.useRef(e);return s.useEffect(()=>{t.current=e}),s.useMemo(()=>(...n)=>{var o;return(o=t.current)===null||o===void 0?void 0:o.call(t,...n)},[])}function J(e,t=globalThis==null?void 0:globalThis.document){const n=C(e);s.useEffect(()=>{const o=r=>{r.key==="Escape"&&n(r)};return t.addEventListener("keydown",o),()=>t.removeEventListener("keydown",o)},[n,t])}const x="dismissableLayer.update",Q="dismissableLayer.pointerDownOutside",Y="dismissableLayer.focusOutside";let L;const ee=s.createContext({layers:new Set,layersWithOutsidePointerEventsDisabled:new Set,branches:new Set}),le=s.forwardRef((e,t)=>{var n;const{disableOutsidePointerEvents:o=!1,onEscapeKeyDown:r,onPointerDownOutside:i,onFocusOutside:a,onInteractOutside:c,onDismiss:l,...b}=e,f=s.useContext(ee),[u,$]=s.useState(null),v=(n=u==null?void 0:u.ownerDocument)!==null&&n!==void 0?n:globalThis==null?void 0:globalThis.document,[,p]=s.useState({}),y=z(t,d=>$(d)),E=Array.from(f.layers),[k]=[...f.layersWithOutsidePointerEventsDisabled].slice(-1),I=E.indexOf(k),D=u?E.indexOf(u):-1,W=f.layersWithOutsidePointerEventsDisabled.size>0,w=D>=I,A=te(d=>{const m=d.target,S=[...f.branches].some(P=>P.contains(m));!w||S||(i==null||i(d),c==null||c(d),d.defaultPrevented||l==null||l())},v),T=ne(d=>{const m=d.target;[...f.branches].some(P=>P.contains(m))||(a==null||a(d),c==null||c(d),d.defaultPrevented||l==null||l())},v);return J(d=>{D===f.layers.size-1&&(r==null||r(d),!d.defaultPrevented&&l&&(d.preventDefault(),l()))},v),s.useEffect(()=>{if(u)return o&&(f.layersWithOutsidePointerEventsDisabled.size===0&&(L=v.body.style.pointerEvents,v.body.style.pointerEvents="none"),f.layersWithOutsidePointerEventsDisabled.add(u)),f.layers.add(u),R(),()=>{o&&f.layersWithOutsidePointerEventsDisabled.size===1&&(v.body.style.pointerEvents=L)}},[u,v,o,f]),s.useEffect(()=>()=>{u&&(f.layers.delete(u),f.layersWithOutsidePointerEventsDisabled.delete(u),R())},[u,f]),s.useEffect(()=>{const d=()=>p({});return document.addEventListener(x,d),()=>document.removeEventListener(x,d)},[]),s.createElement(N.div,h({},b,{ref:y,style:{pointerEvents:W?w?"auto":"none":void 0,...e.style},onFocusCapture:g(e.onFocusCapture,T.onFocusCapture),onBlurCapture:g(e.onBlurCapture,T.onBlurCapture),onPointerDownCapture:g(e.onPointerDownCapture,A.onPointerDownCapture)}))});function te(e,t=globalThis==null?void 0:globalThis.document){const n=C(e),o=s.useRef(!1),r=s.useRef(()=>{});return s.useEffect(()=>{const i=c=>{if(c.target&&!o.current){let b=function(){B(Q,n,l,{discrete:!0})};const l={originalEvent:c};c.pointerType==="touch"?(t.removeEventListener("click",r.current),r.current=b,t.addEventListener("click",r.current,{once:!0})):b()}o.current=!1},a=window.setTimeout(()=>{t.addEventListener("pointerdown",i)},0);return()=>{window.clearTimeout(a),t.removeEventListener("pointerdown",i),t.removeEventListener("click",r.current)}},[t,n]),{onPointerDownCapture:()=>o.current=!0}}function ne(e,t=globalThis==null?void 0:globalThis.document){const n=C(e),o=s.useRef(!1);return s.useEffect(()=>{const r=i=>{i.target&&!o.current&&B(Y,n,{originalEvent:i},{discrete:!1})};return t.addEventListener("focusin",r),()=>t.removeEventListener("focusin",r)},[t,n]),{onFocusCapture:()=>o.current=!0,onBlurCapture:()=>o.current=!1}}function R(){const e=new CustomEvent(x);document.dispatchEvent(e)}function B(e,t,n,{discrete:o}){const r=n.originalEvent.target,i=new CustomEvent(e,{bubbles:!1,cancelable:!0,detail:n});t&&r.addEventListener(e,t,{once:!0}),o?G(r,i):r.dispatchEvent(i)}const oe=globalThis!=null&&globalThis.document?s.useLayoutEffect:()=>{},se=j["useId".toString()]||(()=>{});let re=0;function ue(e){const[t,n]=s.useState(se());return oe(()=>{e||n(o=>o??String(re++))},[e]),e||(t?`radix-${t}`:"")}const de=s.forwardRef((e,t)=>{var n;const{container:o=globalThis==null||(n=globalThis.document)===null||n===void 0?void 0:n.body,...r}=e;return o?V.createPortal(s.createElement(N.div,h({},r,{ref:t})),o):null});export{ae as $,h as _,z as a,F as b,N as c,oe as d,C as e,ue as f,g,de as h,le as i,H as j,_ as k,G as l};
//# sourceMappingURL=index-249b4978.js.map
